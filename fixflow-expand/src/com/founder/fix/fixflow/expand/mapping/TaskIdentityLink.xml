<?xml version="1.0" encoding="UTF-8"?>
<sqlmappingconfig:RulesConfig id="taskIdentityLink" xmlns:sqlmappingconfig="http://www.founderfix.com/sqlmappingconfig">


	<!-- 任务表 -->
	<dataBaseTable tableId="fixflow_run_taskidentitylink" tableName="任务候选人表" tableValue="FIXFLOW_RUN_TASKIDENTITYLINK" mappingType="com.founder.fix.fixflow.core.impl.task.IdentityLinkEntity">
		<columnMapping column="ID" name="编号" property="id" simpleKey="id" jdbcType="VARCHAR" />
		<columnMapping column="TYPE" name="分配类型" property="type" simpleKey="type" jdbcType="VARCHAR" />
		<columnMapping column="USER_ID" name="用户编号" property="userId" simpleKey="userId" jdbcType="VARCHAR" />
		<columnMapping column="GROUP_ID" name="组编号" property="groupId" simpleKey="groupId" jdbcType="VARCHAR" />
		<columnMapping column="GROUP_TYPE" name="组类型" property="groupType" simpleKey="groupType" jdbcType="VARCHAR" />
		<columnMapping column="TASKINSTANCE_ID" name="任务实例编号" property="taskId" simpleKey="taskInstanceId" jdbcType="VARCHAR" />
		<columnMapping column="INCLUDE_EXCLUSION" name="包含排除" property="includeExclusion" simpleKey="includeExclusion" jdbcType="VARCHAR" />
		<columnMapping column="ARCHIVE_TIME" name="归档时间" property="archiveTime" simpleKey="archiveTime" jdbcType="VARCHAR" />
	</dataBaseTable>

	<insert id="insertIdentityLink" parameterType="com.founder.fix.fixflow.core.task.IdentityLink" remark="插入候选人">
		<![CDATA[ 
			sqlCommand.insert("FIXFLOW_RUN_TASKIDENTITYLINK",parameter.getPersistentDbMap());
		]]>
	</insert>

	<delete id="deleteIdentityLinkByProcessInstanceId" parameterType="java.lang.String" remark="删除流程实例对应的所有候选人">
		<![CDATA[ 
			
		]]>
	</delete>
	
	<update id="updateIdentityLink" parameterType="com.founder.fix.fixflow.core.task.IdentityLink" remark="更新任务候选人">
		<![CDATA[ 
			objectParamWhere = { parameter.getId() };
			sqlCommand.update("FIXFLOW_RUN_TASKIDENTITYLINK",  parameter.getPersistentDbMap(), " ID=?",objectParamWhere);
		]]>
	</update>

	<select id="selectIdentityLinkById" parameterType="java.lang.String" resultMap="fixflow_run_taskidentitylink" remark="查询单个任务候选人">
		<![CDATA[
			sqlText = "SELECT * FROM FIXFLOW_RUN_TASKIDENTITYLINK WHERE ID = ? ";
			objectParamWhere = { parameter };
			sqlCommand.queryForList(sqlText, objectParamWhere);
		]]>
	</select>
	<businessRules id="编号" parameterType="入参类型" resultType="返回类型" remark="备注">
	<![CDATA[ 
	
	]]>
	</businessRules>

</sqlmappingconfig:RulesConfig>
